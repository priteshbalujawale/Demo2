!function(){let e,t,n;function l(){let e=confirm("Do You Want To Close The Extension");if(e){ext.remove();let t=document.querySelectorAll(".pr-failed-cc-container");t.forEach(e=>e.remove());let n=document.querySelectorAll(".pr-failed-heading-container");n.forEach(e=>e.remove())}}(function e(){let t=document.createElement("div");t.classList.add("client-extension-container"),t.id="pr-ext",document.body.appendChild(t);let n=document.createElement("div");n.classList.add("client-side-extension-body","child-ext-popup","ext-popup"),n.id="ext_body",t.appendChild(n);let l=document.createElement("button");l.classList.add("ext-open","btn"),l.id="ext_open",l.innerText="A",t.appendChild(l);let i=document.createElement("button");i.classList.add("ext-close","btn"),i.id="ext_close",i.innerText="X",n.appendChild(i);let a=document.createElement("button");a.classList.add("ext-move","btn"),a.id="ext_move",a.innerText="â“‚",n.appendChild(a);let r=document.createElement("div");r.classList.add("m-main-content"),n.appendChild(r)})(),function e(){let t=document.getElementById("ext_close"),n=document.getElementById("ext_body"),l=document.getElementById("ext_open"),i=document.getElementById("ext_body"),a=document.getElementById("ext_move");l.addEventListener("click",function(){n.classList.add("ext-popup"),l.classList.remove("show"),n.style.left="auto",n.style.top="10%"}),t.addEventListener("click",function(){n.classList.remove("ext-popup"),l.classList.add("show")});let r=!1,d,s;function o(e){if(r){let t=e.clientX-d,n=e.clientY-s,l=window.innerWidth-i.offsetWidth,a=window.innerHeight-i.offsetHeight;i.style.left=Math.min(l,Math.max(0,t))+"px",i.style.top=Math.min(a,Math.max(0,n))+"px"}}a.addEventListener("mousedown",function(e){e.preventDefault(),r=!0,d=e.clientX-i.offsetLeft,s=e.clientY-i.offsetTop,document.addEventListener("mousemove",o),document.addEventListener("mouseup",function(){r=!1,document.removeEventListener("mousemove",o)})})}(),e=[],t=[],n=[],function e(t){if(t.nodeType===Node.TEXT_NODE&&""!==t.textContent.trim()){let l=t.parentElement,i=l.getBoundingClientRect();i.width>0&&i.height>0&&n.push(l)}else for(let a of t.childNodes)e(a)}(document.body),n.forEach(n=>{let l=window.getComputedStyle(n),i=l.color,a=function e(t){let n=window.getComputedStyle(t),l=n.backgroundColor,i=l.match(/rgba?\((\d+), (\d+), (\d+), ([\d.]+)\)/);if(!(i&&.55>parseFloat(i[4]))&&"transparent"!==l)return l;{let a=t.parentElement;return a?e(a):""}}(n),r=parseFloat(l.fontSize);function d(e){let t=function e(t){let n=t.match(/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)/);if(!n)return null;{let[,l,i,a,r]=n.map(Number);return{r:l,g:i,b:a,a:r||1}}}(e),n=t.r,l=t.g,i=t.b,a=t.a,r=("0"+Math.round(n*a+255*(1-a)).toString(16)).slice(-2),d=("0"+Math.round(l*a+255*(1-a)).toString(16)).slice(-2),s=("0"+Math.round(i*a+255*(1-a)).toString(16)).slice(-2);return`#${r}${d}${s}`}function s(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,l){return t+t+n+n+l+l});let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function o(e,t,n){let l=[e,t,n].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return .2126*l[0]+.7152*l[1]+.0722*l[2]}a=d(a),i=d(i),a=s(a),i=s(i);let c=o(i.r,i.g,i.b),p=o(a.r,a.g,a.b),u=c>p?(p+.05)/(c+.05):(c+.05)/(p+.05);u>1/3&&r>24?(e.push({element:n.textContent.trim(),type:"large text",result:"FAIL",fgColor:i,bgColor:a}),t.push(n)):u>1/4.5&&r<=24&&(e.push({element:n.textContent.trim(),type:"small text",result:"FAIL",fgColor:i,bgColor:a}),t.push(n))}),function e(t,n){let l=document.querySelector(".m-main-content"),i=document.createElement("div");if(i.classList.add("m-result-row","m-result-row-1"),i.setAttribute("id","contrastResult"),i.setAttribute("data-target","result-1"),l.appendChild(i),t.length>0){let a=document.createElement("strong");a.classList.add("contrastContainerTitle"),a.innerText="Color Contrast",i.appendChild(a);let r=document.createElement("input");r.setAttribute("type","checkbox"),r.classList.add("pr-contrast-Container-CheckBox"),i.appendChild(r);let d=document.createElement("label");d.classList.add("pr-contrast-Container-CheckBox-label"),d.innerText="Highlight Failed CC",r.insertAdjacentHTML("afterend",d.innerHTML);let s=document.createElement("div");s.classList.add("contrastContainer"),i.appendChild(s);for(let o=0;o<t.length;o++){let c=document.createElement("ul");c.classList.add("contrastTitle","m-title"),c.innerHTML=`
                            <li>Element</li>
                            <li>Element Type</li>
                            <li>Element FG Color</li>
                            <li>Element BG Color</li>
                            `;let{element:p,type:u,fgColor:h,bgColor:m,urls:g}=t[o];p=p||"",u=u||"",h=h?`rgb ${h.r}, ${h.g}, ${h.b}`:"",m=m?`rgb ${m.r}, ${m.g}, ${m.b}`:"";let f=document.createElement("div");f.classList.add("page-cc");let C=document.createElement("ul");C.classList.add("failed-contrast-container","failed-container","hover-failed-contrast-container");let E=document.createElement("li");E.innerText=p;let L=document.createElement("li");L.textContent=u;let $=document.createElement("li");$.textContent=h;let x=document.createElement("li");x.textContent=m,C.appendChild(E),C.appendChild(L),C.appendChild($),C.appendChild(x),s.appendChild(f),f.appendChild(c),f.appendChild(C)}let b=document.querySelector(".contrastContainer .page-cc");if(!b){let v=document.createElement("div");v.classList.add("noIssueContainer"),v.innerHTML="No Color Contrast Issue",i.appendChild(v)}}else{let T=document.createElement("div");T.classList.add("noIssueContainer"),T.innerHTML="No Color Contrast Issue",i.appendChild(T)}(function e(t){let n=document.createElement("div");n.innerHTML='<span class="pr-failed-cc-container" style="background-color:#e80000;color:#fff;padding:5px;font-size:10px;">CC Fail</span>';let l=t,i=document.querySelector(".pr-contrast-Container-CheckBox");i&&i.addEventListener("click",function(){if(!0==i.checked)l.forEach(e=>{e.insertAdjacentHTML("beforebegin",n.innerHTML)});else{let e=document.querySelectorAll(".pr-failed-cc-container");e.forEach(e=>e.remove())}})})(n)}(e,t),function e(){let t=[],n=[];document.URL;let l=document.querySelectorAll("h1, h2, h3, h4, h5, h6"),i=l[0],a=!0,r=!1,d=!1,s="";document.querySelectorAll("h1").length>1&&(r=!0);for(let o=0;o<l.length;o++)if(""===l[o].innerText.trim()){d=!0;break}let c=0;for(let p=0;p<l.length;p++){let u=parseInt(l[p].tagName.charAt(1));if(u>c+1){a=!1;break}c=u}"h1"!==i.tagName.toLowerCase()?(s+="h1 is not the first heading. ",t.push({result:s})):r?(s+="Multiple h1 headings detected. ",t.push({result:s})):d?(s+="Blank heading detected. ",t.push({result:s})):a?(s+="Heading structure is valid. ",[].push({result:s})):(s+="Invalid heading structure. ",t.push({result:s}));for(let h=0;h<l.length;h++){let m=l[h].tagName,g=l[h].textContent;n.push({headingLevel:m,headingText:g})}(function e(t){let n=document.querySelector(".m-main-content"),l=document.createElement("div");l.classList.add("m-result-row","active","m-result-row-0"),l.setAttribute("id","headingResult"),l.setAttribute("data-target","result-0"),n.appendChild(l);let i=document.createElement("strong");i.classList.add("headingContainerTitle"),i.innerText="Headings",l.appendChild(i);let a=document.createElement("input");a.setAttribute("type","checkbox"),a.classList.add("pr-heading-Container-CheckBox"),l.appendChild(a);let r=document.createElement("label");if(r.classList.add("pr-heading-Container-CheckBox-label"),r.innerText="Highlight Headings",a.insertAdjacentHTML("afterend",r.innerHTML),t.length>0){let d=document.createElement("div");d.classList.add("headingContainer"),l.appendChild(d),t.forEach(e=>{let{result:t}=e,n=document.createElement("div");n.classList.add("page-heading"),n.innerHTML=`
                  <ul class="failed-heading-container failed-container">
                  <li>${t}</li>
                  </ul>
                `,d.appendChild(n)})}else{let s=document.createElement("strong");s.classList.add("noIssueContainer"),s.innerHTML="No Heading structure Issues",l.appendChild(s)}})(t),function e(t){let n=document.getElementById("headingResult");if(t){let l=document.createElement("div");l.classList.add("headingContainer"),n.appendChild(l),t.forEach(e=>{let{headingLevel:t,headingText:n}=e,i=n.split(" ");var a="color:#000 !important";i.forEach(e=>{if(e.length>1){let t=e.charAt(0);/[a-z]/.test(t)?a="color:#d80000 !important":/^[A-Z]+$/.test(e)&&(a="color:#d80000 !important")}});let r=document.createElement("div");r.classList.add("page-heading"),r.innerHTML=`
                <ul class="failed-heading-container failed-container">
                <li>${t}</li>
                <li style="${a}">${n}</li>
                </ul>
              `,l.appendChild(r)})}else{let i=document.createElement("div");i.classList.add("noIssueContainer"),i.innerHTML="No Heading structure Issues",n.appendChild(i)}}(n),function e(t){console.log(t);let n=t,l=document.querySelector(".pr-heading-Container-CheckBox");l&&l.addEventListener("click",function(){if(!0==l.checked)n.forEach(e=>{let t=document.createElement("div");t.innerHTML=`<span class="pr-failed-heading-container" style="background-color:#6400FF;color:#fff;padding:5px;font-size:10px;">${e.tagName}</span>`,e.insertAdjacentHTML("beforebegin",t.innerHTML)});else{let e=document.querySelectorAll(".pr-failed-heading-container");e.forEach(e=>e.remove())}})}(l)}(),function e(){document.URL;let t=document.querySelector("title").text;(function e(t){let n=document.querySelector(".flfooterbrand a"),l;l=n?n.text:"";let i=document.querySelector(".m-main-content"),a=document.createElement("div");a.classList.add("m-result-row","m-result-row-2"),a.setAttribute("id","titleResult"),a.setAttribute("data-target","result-2"),i.appendChild(a);let r=document.createElement("strong");r.classList.add("titleContainerTitle"),r.innerText="Page Title",a.appendChild(r);let d=document.createElement("div");d.classList.add("titleContainer"),a.appendChild(d);let s=!t.includes(l),o=t.substring(t.length-l.length,t.length),c=s||o!==l,p=document.createElement("div");p.classList.add("page-titles"),p.innerHTML=`
                <ul class="failed-title-container failed-container">
                    <li style="${c?"color:#d80000 !important":"color:#333333"}">${t}</li>
                </ul>
            `,d.appendChild(p)})(t)}(),function e(){let t=document.querySelectorAll("img"),n=[];t.forEach(e=>{let t=document.domain+e.getAttribute("src"),l=e.getAttribute("alt"),i=e.hasAttribute("alt"),a=0!==e.getBoundingClientRect().width&&0!==e.getBoundingClientRect().height&&!t.startsWith("http");i&&a?n.push({src:t,alt:l}):!i&&a&&n.push({src:t,alt:"No alt"})}),function e(t){let n=function e(t){let n=new Set,l=[];return t.forEach(e=>{let{src:t,alt:i}=e;n.has(t)||(n.add(t),l.push({src:t,alt:i}))}),l}(t),l=document.querySelector(".m-main-content"),i=document.createElement("div");i.classList.add("m-result-row","m-result-row-3"),i.setAttribute("id","imgResult"),i.setAttribute("data-target","result-3"),l.appendChild(i);let a=document.createElement("strong");a.classList.add("imgContainerTitle"),a.innerText="Image",i.appendChild(a);let r=document.createElement("div");r.classList.add("imgContainer"),i.appendChild(r);let d=document.createElement("ul");d.classList.add("imgTitle","m-title"),d.innerHTML=`
        <li>Images</li>
        <li>Alt Text</li>
        `,r.appendChild(d);for(let s=0;s<n.length;s++){let o=document.createElement("div");o.classList.add("page-heading"),o.innerHTML=`
                  <ul class="img-container failed-container">
                    <li><img style="width:150px;height:auto" src= 'https://${n[s].src}' alt=${n[s].alt}></li>
                  <li class='alt-text'>"${n[s].alt}"</li>
                  </ul>
                `,r.appendChild(o)}}(n)}()}();
